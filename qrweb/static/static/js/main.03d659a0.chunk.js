(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{68:function(e,t,n){},69:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(10),r=n.n(i),l=(n(68),n(13)),s=(n(69),n(121)),o=n(114),d=n(122),j=n(55),u=n.n(j),b=n(56),h=n(124),x=n(118),m=n(126),O=n(123),f=n(127),g=n(120),v=n(111),p=n(4),w=Object(v.a)({animated_textfield:{"& textarea":{transition:"height .05s linear"},"& fieldset":{transitionProperty:"border-color, border-width, transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.0, 0, 0.2, 1)",transitionDelay:"0ms"}},animated_select:{"& fieldset":{transitionProperty:"border-color, border-width, transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.0, 0, 0.2, 1)",transitionDelay:"0ms"}}});function y(e){var t=w();return Object(p.jsxs)(o.a,{container:!0,spacing:3,children:[Object(p.jsx)(o.a,{item:!0,xs:12,children:Object(p.jsx)(h.a,{className:t.animated_textfield,id:"outlined-basic",multiline:!0,fullWidth:!0,label:"Text",variant:"outlined",onChange:e.textChange,minRows:10,maxRows:10})}),Object(p.jsx)(o.a,{item:!0,xs:12,md:4,children:Object(p.jsxs)(x.a,{fullWidth:!0,variant:"outlined",children:[Object(p.jsx)(m.a,{id:"enc-select-label",children:"Encoding"}),Object(p.jsxs)(O.a,{className:t.animated_select,labelId:"enc-select-label",id:"enc-select",defaultValue:"auto",onChange:e.encChange,label:"Encoding",children:[Object(p.jsx)(f.a,{value:"auto",children:"Automatic"},"enc_auto"),Object(p.jsx)(g.a,{children:"Manual"}),Object(p.jsx)(f.a,{value:"numeric",children:"Numeric"},"enc_num"),Object(p.jsx)(f.a,{value:"alphanumeric",children:"Alphanumeric"},"enc_alpha"),Object(p.jsx)(f.a,{value:"byte",children:"Byte"},"enc_byte"),Object(p.jsx)(f.a,{value:"kanji",children:"Kanji"},"enc_kanji")]})]})}),Object(p.jsx)(o.a,{item:!0,xs:12,md:4,children:Object(p.jsxs)(x.a,{fullWidth:!0,variant:"outlined",children:[Object(p.jsx)(m.a,{id:"ec-select-label",children:"Error Correction"}),Object(p.jsxs)(O.a,{className:t.animated_select,labelId:"ec-select-label",id:"ec-select",defaultValue:"M",onChange:e.ecChange,label:"Error Correction",children:[Object(p.jsx)(f.a,{value:"L",children:"L"},"ec_l"),Object(p.jsx)(f.a,{value:"M",children:"M"},"ec_m"),Object(p.jsx)(f.a,{value:"Q",children:"Q"},"ec_q"),Object(p.jsx)(f.a,{value:"H",children:"H"},"ec_h")]})]})}),Object(p.jsx)(o.a,{item:!0,xs:12,md:4,children:Object(p.jsxs)(x.a,{fullWidth:!0,variant:"outlined",children:[Object(p.jsx)(m.a,{id:"ver-select-label",children:"Version"}),Object(p.jsxs)(O.a,{className:t.animated_select,labelId:"ver-select-label",id:"ver-select",defaultValue:"auto",onChange:e.verChange,label:"Version",children:[Object(p.jsx)(f.a,{value:"auto",children:"Automatic"},"ver_auto"),Object(p.jsx)(g.a,{children:"Manual"}),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40].map((function(e){return Object(p.jsx)(f.a,{value:e.toString(),children:e.toString()},"ver_"+e)}))]})]})})]})}var _=n(119),C=Object(v.a)({svgRoot:{maxWidth:"450px",maxHeight:"450px",marginLeft:"auto",marginRight:"auto"}});function z(e){var t=C();return Object(p.jsx)("div",{className:t.svgRoot,children:Object(p.jsxs)("svg",{viewBox:"".concat(-e.silzone*e.bitw," ").concat(-e.silzone*e.bitw," ").concat((e.matrix[0].length+2*e.silzone)*e.bitw," ").concat((e.matrix.length+2*e.silzone)*e.bitw),children:[Object(p.jsx)("style",{children:"rect.p{fill:#000000;}rect.n{fill:#ffffff;}"}),Object(p.jsx)("rect",{x:-e.silzone*e.bitw,y:-e.silzone*e.bitw,width:(e.matrix[0].length+2*e.silzone)*e.bitw,height:(e.matrix.length+2*e.silzone)*e.bitw,className:"n"}),e.matrix.map((function(t,n){return t.map((function(t,c){return 1===t?Object(p.jsx)("rect",{x:c*e.bitw-e.dilate,y:n*e.bitw-e.dilate,width:e.bitw+2*e.dilate,height:e.bitw+2*e.dilate,className:"p"},c+"_"+n):null}))}))]})})}var S=Object(v.a)({paper_root:{transition:"height 200ms linear 0s"},echo_div:{display:"block",width:"100%",textAlign:"center",margin:"-0.5rem 0 1rem 0",padding:"0 1rem 0 1rem",wordWrap:"break-word"},err_div:{display:"block",textAlign:"center",padding:"3rem 2rem 3rem 2rem",fontSize:"130%",color:"red"}});function N(e){var t=S();return Object(p.jsx)(_.a,{className:t.paper_root,children:void 0!==e.json?e.json.success?Object(p.jsxs)(o.a,{container:!0,spacing:0,children:[Object(p.jsx)(o.a,{item:!0,xs:12,children:Object(p.jsx)(z,{matrix:e.json.result.matrix,silzone:e.silzone,bitw:e.bitw,dilate:e.dilate})}),Object(p.jsx)(o.a,{className:t.echo_div,item:!0,xs:12,children:e.query})]}):Object(p.jsx)("div",{className:t.err_div,children:e.json.result}):Object(p.jsx)("div",{className:t.err_div,children:e.err})})}function k(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)("auto"),r=Object(l.a)(i,2),j=r[0],h=r[1],x=Object(c.useState)("M"),m=Object(l.a)(x,2),O=m[0],f=m[1],g=Object(c.useState)("auto"),v=Object(l.a)(g,2),w=v[0],_=v[1],C=Object(c.useState)(),z=Object(l.a)(C,2),S=z[0],k=z[1],W=Object(c.useState)("Not initialized"),A=Object(l.a)(W,2),E=A[0],I=A[1],M=Object(c.useState)(""),R=Object(l.a)(M,2),T=R[0],D=R[1],F=Object(c.useCallback)(Object(b.a)((function(e,t,n,c){var a={text:e,encode:t,ec:n,version:c};fetch("/api/qr/req",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){k(e),I(void 0),D(a.text)})).catch((function(e){k(void 0),I(e.toString()),D(a.text)}))}),350),[]);Object(c.useEffect)((function(){F(n,j,O,w)}),[F,n,j,O,w]);var P=10,q=.2;return Object(p.jsx)(s.a,{maxWidth:"md",children:Object(p.jsxs)(o.a,{container:!0,spacing:3,children:[Object(p.jsx)(o.a,{item:!0,xs:12,children:Object(p.jsx)("h1",{children:"QR web"})}),Object(p.jsx)(o.a,{item:!0,xs:12,md:6,children:Object(p.jsxs)(o.a,{container:!0,spacing:3,children:[Object(p.jsx)(o.a,{item:!0,xs:12,children:Object(p.jsx)(y,{textChange:function(e){return a(e.target.value)},encChange:function(e){return h(e.target.value)},ecChange:function(e){return f(e.target.value)},verChange:function(e){return _(e.target.value)}})}),Object(p.jsx)(o.a,{item:!0,xs:12,children:Object(p.jsx)(d.a,{fullWidth:!0,disabled:void 0===S||!S.success,size:"large",startIcon:Object(p.jsx)(u.a,{}),variant:"contained",color:"primary",onClick:function(e){if(void 0!==S){var t=document.createElement("a"),n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="'.concat(-40," ").concat(-40," ").concat((S.result.matrix[0].length+8)*P," ").concat((S.result.matrix.length+8)*P,'"><defs><style>.p{fill:#000000;}.n{fill:#ffffff;}</style></defs><rect x="').concat(-40,'" y="').concat(-40,'" width="').concat((S.result.matrix[0].length+8)*P,'" height="').concat((S.result.matrix.length+8)*P,'" class="n"/>').concat(S.result.matrix.map((function(e,t){return e.map((function(e,n){return 1===e?'<rect x="'.concat(n*P-q,'" y="').concat(t*P-q,'" width="').concat(10.4,'" height="').concat(10.4,'" class="p"/>'):""})).reduce((function(e,t){return e+t}))})).reduce((function(e,t){return e+t})),"</svg>");t.setAttribute("href","data:image/svg+xml,"+encodeURIComponent(n)),t.setAttribute("download","".concat(T,".svg")),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},children:"Download"})})]})}),Object(p.jsx)(o.a,{item:!0,xs:12,md:6,children:Object(p.jsx)(N,{json:S,err:E,query:T,silzone:4,bitw:P,dilate:q})})]})})}var W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,128)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};r.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(k,{})}),document.getElementById("root")),W(console.log)}},[[80,1,2]]]);
//# sourceMappingURL=main.03d659a0.chunk.js.map